(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a(27)},27:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(14),l=a.n(o),s=a(1),c=a(2),d=a(5),i=a(3),u=a(6),p=a(4),m=a(9),v=a(18),h=a(8),f={year:(new Date).getFullYear(),years_range:[]},_={current_date:(new Date).toLocaleDateString("en-US")},g={events:JSON.parse(localStorage.getItem("events"))||[],colors:JSON.parse(localStorage.getItem("colors"))||[]},b=Object(m.c)({header:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_YEAR":return Object(h.a)({},e,{year:t.payload});case"CHANGE_RANGE":return Object(h.a)({},e,{years_range:t.payload});default:return e}},calendar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CURRENT_DATE":return Object(h.a)({},e,{current_date:t.payload});default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EVENT":case"REMOVE_EVENT":return Object(h.a)({},e,{events:t.payload});case"ADD_COLOR":return Object(h.a)({},e,{colors:t.payload});default:return e}}}),E=[v.a],y=Object(m.e)(b,{},Object(m.d)(m.a.apply(void 0,E),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),N=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(n)))).state={selected_year:a.props.year,year_range:[]},a.getDateRange=function(e){return new Promise(function(t,r){for(var n=[],o=e-3;o<e+4;o++)n.push(o);a.setState({year_range:n}),t(n)})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getDateRange(this.state.selected_year).then(function(t){e.props.changeYear(e.state.selected_year),e.props.changeRange(t)})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"header"},n.a.createElement("div",{className:"before",onClick:function(){var t=e.props.years_range[0]-4;e.getDateRange(t).then(function(t){e.props.changeRange(t)})}}),this.state.year_range.map(function(t,a){var r=e.props.selected_year===t?"bold-header":"";return n.a.createElement("a",{href:"#",className:"header__year "+r,key:a,"data-year":t,onClick:function(){e.getDateRange(t).then(function(a){e.props.changeYear(t),e.props.changeRange(a),e.setState({selected_year:t})})}},t)}),n.a.createElement("div",{className:"after",onClick:function(){var t=e.props.years_range[e.props.years_range.length-1]+4;e.getDateRange(t).then(function(t){e.props.changeRange(t)})}}))}}]),t}(r.Component),j=Object(p.b)(function(e){return{selected_year:e.header.year,years_range:e.header.years_range}},{changeYear:function(e){return function(t){t({type:"CHANGE_YEAR",payload:e})}},changeRange:function(e){return function(t){t({type:"CHANGE_RANGE",payload:e})}}})(N),O=function(e){var t=e.current,a=e.date,r=Math.floor((Date.parse(a)-Date.parse(t))/864e5),o=r>0?"until":"since",l=1===Math.abs(r)?"day":"days";return n.a.createElement("div",{className:"tooltip"},Math.abs(r)," ",l," ",o," ",a)},w=function(e){return function(t){localStorage.setItem("events",JSON.stringify(e)),t({type:"REMOVE_EVENT",payload:e})}},D=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(n)))).state={date:a.props.date,day:a.props.day,input:"",remove:!1},a.handleInput=function(e){a.setState({input:e.target.value})},a.chooseColor=function(e){if(e.target!==e.currentTarget){var t=e.target.getAttribute("data-rgb"),r=a.props,n=r.colors,o=r.date,l={colorobj:{date:o,color:t}};if(n.length>0){for(var s=!1,c=0;c<n.length;c++)n[c].colorobj.date===o&&(n[c].colorobj.color=t,s=!0,a.props.addColor(n),c=n.length);s||(n.push(l),a.props.addColor(n))}else n.push(l),a.props.addColor(n)}a.props.closeModal()},a.removeEvent=function(e){for(var t=a.props.events,r=0;r<t.length;r++)if(console.log("here"),t[r].eventobj.date===a.props.date)for(var n=0;n<t[r].eventobj.events.length;n++)t[r].eventobj.events[n]===e&&(t[r].eventobj.events.splice(n,1),a.props.removeEvent(t),a.setState({remove:!a.state.remove}))},a.getBullet=function(e){for(var t=0;t<a.props.colors.length;t++)if(e===a.props.colors[t].colorobj.date)return a.props.colors[t].colorobj.color;return"default"},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.events,r=(t.colors,t.date),o=t.day,l=!0===this.props.show?"show-bg":"hide-bg";return n.a.createElement("div",{className:"modal-background "+l},n.a.createElement("div",{className:"modal__container "},n.a.createElement("div",{className:"modal__container--header"},n.a.createElement("div",{className:"modal__container--header-day"},o," "),n.a.createElement("div",{className:"modal__container--header-date"},r),n.a.createElement("div",{className:"modal__container--header-close",onClick:function(){e.props.closeModal()}},"\xd7")),n.a.createElement("div",{className:"modal__container--events"},n.a.createElement("div",{className:"modal__container--events-header"},"Your Events"),n.a.createElement("div",{className:"modal__container--events-input"},n.a.createElement("input",{type:"text",placeholder:"add an event",value:this.state.input,onChange:this.handleInput}),n.a.createElement("button",{onClick:function(){if(e.state.input.length>0){var t={eventobj:{date:r,events:[e.state.input]}};if(a.length>0){for(var n=!1,o=0;o<a.length;o++)a[o].eventobj.date===r&&(n=!0,a[o].eventobj.events.push(e.state.input),e.props.addEvent(a),e.setState({input:""}),o=a.length);n||(a.push(t),e.props.addEvent(a),e.setState({input:""}))}else a.push(t),e.props.addEvent(a),e.setState({input:""})}}},"+")),n.a.createElement("div",{className:"modal__container--events-container"},n.a.createElement("ol",null,a.filter(function(t){t.eventobj.date;return t.eventobj.date===e.props.date}).map(function(t){return t.eventobj.events.map(function(t){return n.a.createElement("li",{className:"modal__container--events-container-item","data-id":t,"data-date":r,key:t},n.a.createElement("span",{className:e.getBullet(r)}),t,n.a.createElement("span",{className:"modal__container--events-container-delete",onClick:function(){e.removeEvent(t)}},"\xd7"))})}))),n.a.createElement("div",{className:"modal__container--colors"},n.a.createElement("div",{className:"modal__container--colors-header"},"Choose a color for this day"),n.a.createElement("div",{className:"modal__container--colors-row",onClick:this.chooseColor},n.a.createElement("a",{className:"red","data-rgb":"red"}),n.a.createElement("a",{className:"green","data-rgb":"green"}),n.a.createElement("a",{className:"blue","data-rgb":"blue"}),n.a.createElement("a",{className:"yellow","data-rgb":"yellow"}),n.a.createElement("a",{className:"purple","data-rgb":"purple"}),n.a.createElement("a",{className:"orange","data-rgb":"orange"}),n.a.createElement("a",{className:"default","data-rgb":"default"},"none"))))))}}]),t}(r.Component),S=Object(p.b)(function(e){return{events:e.modal.events,colors:e.modal.colors,selected_year:e.header.year}},{addColor:function(e){return function(t){localStorage.setItem("colors",JSON.stringify(e)),t({type:"ADD_COLOR",payload:e})}},addEvent:function(e){return function(t){localStorage.setItem("events",JSON.stringify(e)),t({type:"ADD_EVENT",payload:e})}},removeEvent:w})(D),C=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(n)))).state={year_change:!1,show_modal:!1,selected_date:"",selected_day:"",show_tooltip:!1,hover_date:""},a.mapDatesObject=function(){var e=a.props.days,t=[];for(var r in e){var n={};n.num=r,n.day=e[r],t.push(n)}return t},a.getMonth=function(){return["January","February","March","April","May","June","July","August","September","October","November","December"][a.props.month-1]},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.selected_year!==+this.props.current_date.split("/")[2]&&this.setState({year_change:!0}),this.props.currentDate()}},{key:"render",value:function(){var e=this,t=this.mapDatesObject();console.log(t);this.state.show_tooltip;return n.a.createElement("div",null,n.a.createElement("div",{className:"calendar"},n.a.createElement("div",{className:"calendar__month"},this.getMonth()),n.a.createElement("div",{className:"calendar__days"},n.a.createElement("div",null,"Sun"),n.a.createElement("div",null,"Mon"),n.a.createElement("div",null,"Tue"),n.a.createElement("div",null,"Wed"),n.a.createElement("div",null,"Thu"),n.a.createElement("div",null,"Fri"),n.a.createElement("div",null,"Sat")),t.map(function(t,a){for(var r="default",o=!1,l=e.props.colors,s=e.props.month+"/"+t.num+"/"+e.props.selected_year,c=0;c<l.length;c++)l[c].colorobj.date===s&&(e.props.filter&&l[c].colorobj.color===e.props.color&&(r=l[c].colorobj.color,o=!0),o||e.props.filter||(r=l[c].colorobj.color));return n.a.createElement("div",{className:0===a?"calendar__day ".concat(t.day," ").concat(r):"calendar__day ".concat(r),"data-num":t.num,"data-day":t.day,"data-year":e.props.selected_year,"data-fulldate":s===e.props.current_date?"border":"no-border",key:a,onClick:function(){e.props.showModal(s,t.day)},onMouseOver:function(){e.setState({show_tooltip:!0,hover_date:s})},onMouseLeave:function(){e.setState({show_tooltip:!1,hover_date:""})}},n.a.createElement("div",{className:"calendar__day--number"},t.num),e.state.show_tooltip&&e.state.hover_date===s?n.a.createElement(O,{date:s,current:e.props.current_date}):null)})))}}]),t}(r.Component),k=Object(p.b)(function(e){return{selected_year:e.header.year,current_date:e.calendar.current_date,colors:e.modal.colors}},{currentDate:function(){return function(e){e({type:"CURRENT_DATE",payload:(new Date).toLocaleDateString("en-US")})}}})(C),M=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(n)))).state={date:a.props.date,day:a.props.day,remove:!1},a.removeEvent=function(e){for(var t=a.props.events,r=0;r<t.length;r++)for(var n=t[r].eventobj.events,o=0;o<n.length;o++)if(n[o]===e)return n.splice(o,1),0===n.length&&(t.splice(r,1),a.props.removeEvent(t)),a.props.removeEvent(t),void a.setState({remove:!a.state.remove})},a.getBullet=function(e){for(var t=0;t<a.props.colors.length;t++)if(e===a.props.colors[t].colorobj.date)return a.props.colors[t].colorobj.color;return"default"},a.beforeElement=function(e,t,a){return console.log(1),console.log(t.length),a&&1===t.length?"before-element":""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){for(var e=this,t=!0===this.props.show?"show-bg":"hide-bg",a=this.props.events,r=[],o=!1,l=1;l<a.length;l++)for(var s=void 0,c=0;c<l;c++)Date.parse(a[l].eventobj.date)>Date.parse(a[c].eventobj.date)&&Date.parse(a[l].eventobj.date)>=Date.parse(new Date)&&Date.parse(a[c].eventobj.date)<=Date.parse(new Date)?(s=a[l],a[l]=a[c],a[c]=s):Date.parse(a[l].eventobj.date)>Date.parse(a[c].eventobj.date)&&Date.parse(a[l].eventobj.date)<=Date.parse(new Date)&&Date.parse(a[c].eventobj.date)<=Date.parse(new Date)&&(s=a[l],a[l]=a[c],a[c]=s);for(var d=0;d<a.length;d++){var i=void 0;a[d].eventobj.date===this.props.current_date&&(i=a[d],a.splice(d,1),a.unshift(i))}return n.a.createElement("div",{className:"modal-background "+t},n.a.createElement("div",{className:"modal__container"},n.a.createElement("div",{className:"modal__container--header"},n.a.createElement("div",null,"\xa0"),n.a.createElement("div",null,"Your Events"),n.a.createElement("div",{className:"modal__container--header-close",onClick:function(){e.props.closeModal()}},"\xd7")),n.a.createElement("div",{className:"modal__container--events-container"},n.a.createElement("ol",{className:"large-list"},a.map(function(t){var a=t.eventobj.date,l=e.props.current_date,s=a,c=Math.floor((Date.parse(s)-Date.parse(l))/864e5),d=c>=0?"until":"since";"since"===d?r.push(1):o=!0;var i=1===Math.abs(c)?"day":"days";return t.eventobj.events.map(function(t,l){return n.a.createElement("li",{className:"modal__container--events-container-item","data-before":e.beforeElement(l,r,o),"data-id":t,"data-date":a,key:t},n.a.createElement("span",{className:"date-span"},Math.abs(c)," ",i," ",d)," ",n.a.createElement("span",{className:e.getBullet(a)+"-text event-list-item"},t)," ",n.a.createElement("span",{className:"date-span"},"(",a,")"),n.a.createElement("span",{className:e.getBullet(a)}),n.a.createElement("span",{className:"modal__container--events-container-delete",onClick:function(){e.removeEvent(t)}},"\xd7"))})})))))}}]),t}(r.Component),R=Object(p.b)(function(e){return{events:e.modal.events,current_date:e.calendar.current_date,colors:e.modal.colors}},{removeEvent:w})(M),A=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(n)))).state={selected_date:"",selected_day:"",show_events:!1,show_modal:!1,filter:!1,color:"default"},a.getDates=function(e,t){for(var a=["sun","mon","tue","wed","thu","fri","sat"],r=new Date(e,t-1,1),n={};r.getMonth()==t-1;)n[r.getDate()]=a[r.getDay()],r.setDate(r.getDate()+1);return n},a.showModal=function(e,t){a.setState({show_modal:!0,selected_date:e,selected_day:t})},a.closeModal=function(){a.setState({show_modal:!1,selected_date:"",selected_day:""})},a.closeEvents=function(){a.setState({show_events:!1})},a.chooseColor=function(e){if(e.target!==e.currentTarget){var t=e.target.getAttribute("data-rgb");"default"===t?a.setState({filter:!1,color:"default"}):a.setState({filter:!0,color:t})}},a.resetFilter=function(){a.setState({filter:!1,color:"default"})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){for(var e=this,t=this.props.selected_year,a=[],r=1;r<13;r++)a.push(r);return n.a.createElement("div",null,n.a.createElement(S,{date:this.state.selected_date,day:this.state.selected_day,show:!0===this.state.show_modal,closeModal:this.closeModal}),n.a.createElement(R,{show:!0===this.state.show_events,closeModal:this.closeEvents}),n.a.createElement("div",{className:"body"},a.map(function(a,r){var o=e.getDates(t,a);return n.a.createElement(k,{showModal:e.showModal,days:o,key:r,month:a,filter:!!e.state.filter,color:"default"!==e.state.color?e.state.color:"default"})})),n.a.createElement("div",{className:"footer"},n.a.createElement("div",{className:"footer__filters",onClick:this.chooseColor},n.a.createElement("a",{className:"footer__filters--header"},"Filter By:"),n.a.createElement("a",{className:"red"===this.state.color?"red selected":"red","data-rgb":"red"}),n.a.createElement("a",{className:"green"===this.state.color?"green selected":"green","data-rgb":"green"}),n.a.createElement("a",{className:"blue"===this.state.color?"blue selected":"blue","data-rgb":"blue"}),n.a.createElement("a",{className:"yellow"===this.state.color?"yellow selected":"yellow","data-rgb":"yellow"}),n.a.createElement("a",{className:"purple"===this.state.color?"purple selected":"purple","data-rgb":"purple"}),n.a.createElement("a",{className:"orange"===this.state.color?"orange selected":"orange","data-rgb":"orange"}),n.a.createElement("a",{className:"default","data-rgb":"default"},"reset")),n.a.createElement("div",{className:"footer__button"},n.a.createElement("a",{href:"#",onClick:function(){e.setState({show_events:!0})}},"Saved Events"))))}}]),t}(r.Component),T=Object(p.b)(function(e){return{selected_year:e.header.year,years_range:e.header.years_range}},{})(A),I=(new Date).getFullYear(),J=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement(p.a,{store:y},n.a.createElement("div",{className:"App"},n.a.createElement(j,{year:I}),n.a.createElement(T,null)))}}]),t}(r.Component);l.a.render(n.a.createElement(J,null),document.getElementById("root"))}},[[19,2,1]]]);
//# sourceMappingURL=main.3af71787.chunk.js.map